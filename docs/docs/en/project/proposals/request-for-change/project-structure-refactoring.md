# Proposal: Project Structure Refactoring

Change of the project structure to the **@angular/cli** format, following the **library** schematic.

---

## <a name="toc"></a> Table of Contents

* [Proposed By](#prb)
* [History](#his)
* [Reason to add](#rta)
* [Implementation Details](#imd)

---

## <a name="prb"></a> Proposed By

* Name: Mauricio Gemelli Vigolo
* Date: 2018-05-06
* Github user: [mauriciovigolo](https://github.com/mauriciovigolo)

### <a name="his"></a> History

|    Date    |                        User                         | Details                          |
| :--------: | :-------------------------------------------------: | -------------------------------- |
| 2018-05-06 | [mauriciovigolo](https://github.com/mauriciovigolo) | Initial version of this document |

## <a name="rta"></a> Reason to add

The current project structure was not created by @angular/cli, so all the good functionalities offered by ng
are missing in the project. The reasons to change to the angular cli project structure are:

* Easiness to manage, test and create new components, services, modules through the schematics.
* Follow the angular standards.
* In angular 6, the angular cli provides a new schematic for library creation - under the hood, the angular
  team incorporated the [ng-packgr](https://github.com/dherges/ng-packagr) in the project.

## <a name="imd"></a> Implementation Details

The keycloak-angular project will be recreated using the angular cli tool. Then all the current features/implementations will be migrated to the new structure.

The new folder structure is specified bellow:

```
.
├── .github                             # github related files as issue templating, stale
├── .vscode                             # vscode related files for easiness contributing and follow the project guidelines
├── docs                                # project documentation folder
│   ├── api                             # project generated api
│   ├── images                          # project images
│   ├── project                         # project folder
│   │   ├── proposals                   # proposals management and documentation
│   │   │   ├── request-for-change      # RFCs documentation
│   │   │   ├── to-be-evaluated         # RFCs that are being evaluated
│   │   │   ├── in-progress             # Proposals in development
│   │   │   ├── rejected                # Rejected proposals
│   │   │   ├── done                    # Proposals incorporated to the project
├── examples                            # Project examples folder
├── projects                            # Custom developed angular library projects
│   ├── keycloak-angular                # keycloak-angular library sources
```

### Folders details:

#### .github

* issue_template.md: for better issue description.
* pull-request-template.md: better PRs description.
* stale.yml: automatic issue stale for inactivity.

#### .vscode

* settings.json: default lib configs, for better contributing.

#### docs

* api: all api generated by [jsdoc-to-markdown](https://www.npmjs.com/package/jsdoc-to-markdown) library.
* images: general images used by the project and documentation.
* project: documentation for new features, to improve the library documentation.
* roadmap: file to document the project roadmap, new releases and included features.

#### examples

* keycloak-heroes: shows a simple keycloak-angular configuration in an angular. It's consuming an external REST API service from [Open Dota]
* keycloak-events: example that shows how to use the keycloak-js events in an angular project.

#### projects

* keycloak-angular: library src files.
